(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{516:function(t,s,a){"use strict";a.r(s);var n=a(27),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",[t._v("生成快照 "),a("BadgeTip",{attrs:{text:"异步",type:"green"}})],1),t._v(" "),a("p",[t._v("获取屏幕或窗口的快照图片")]),t._v(" "),a("h2",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),a("h3",{attrs:{id:"nativeapi.snapshot-options-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nativeapi.snapshot-options-object"}},[t._v("#")]),t._v(" "),a("code",[t._v("nativeApi.snapShot(options: <Object>)")])]),t._v(" "),a("h2",{attrs:{id:"shi-li-dai-ma"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shi-li-dai-ma"}},[t._v("#")]),t._v(" 示例代码")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" nativeApi "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@neosjs/electron-ipc'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" filePath "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" nativeApi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("snapShot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'window'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ext"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'png'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 拍摄当前激活的窗口快照，保存成png图片，并返回图片路径")]),t._v("\n")])])]),a("h4",{attrs:{id:"fan-hui-suo-lue-tu-shi-li"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fan-hui-suo-lue-tu-shi-li"}},[t._v("#")]),t._v(" 返回缩略图示例")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" nativeApi "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@neosjs/electron-ipc'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" filePath "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" nativeApi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("snapShot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  thumbnailWidth"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  thumbnailQuality"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'window'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ext"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'png'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 生成宽为300像素并压缩50%的缩略图")]),t._v("\n")])])]),a("h2",{attrs:{id:"fan-hui-zhi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fan-hui-zhi"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  fileName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'xxxxxxxx.png'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  filePath"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" '/User/xxxxxxx/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  thumbnail"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("image/jpeg;base64"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("aadjxixizixczixcuzoxc' "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 缩略图的返回，取决于是否设置了 thumbnailWidth")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"params"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#params"}},[t._v("#")]),t._v(" Params")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("说明")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("可选值")]),t._v(" "),a("th",[t._v("默认值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("options")]),t._v(" "),a("td",[t._v("拍摄快照的参数。（可选）")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("—")]),t._v(" "),a("td",[t._v("—")])]),t._v(" "),a("tr",[a("td",[t._v("options['width']")]),t._v(" "),a("td",[t._v("保存图片的宽度")]),t._v(" "),a("td",[t._v("Number")]),t._v(" "),a("td",[t._v("—")]),t._v(" "),a("td",[t._v("1200")])]),t._v(" "),a("tr",[a("td",[t._v("options['height']")]),t._v(" "),a("td",[t._v("保存图片的高度")]),t._v(" "),a("td",[t._v("Number")]),t._v(" "),a("td",[t._v("—")]),t._v(" "),a("td",[t._v("720")])]),t._v(" "),a("tr",[a("td",[t._v("options['savePath']")]),t._v(" "),a("td",[t._v("图片保存的路径")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("—")]),t._v(" "),a("td",[t._v("本机的桌面")])]),t._v(" "),a("tr",[a("td",[t._v("options['ext']")]),t._v(" "),a("td",[t._v("保存图片的后缀名")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("png、jpeg")]),t._v(" "),a("td",[t._v("jpg")])]),t._v(" "),a("tr",[a("td",[t._v("options['type']")]),t._v(" "),a("td",[t._v("快照类型。（支持 "),a("code",[t._v("屏幕快照")]),t._v(" 和 "),a("code",[t._v("窗口快照")]),t._v("）")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("screen、window")]),t._v(" "),a("td",[t._v("window")])]),t._v(" "),a("tr",[a("td",[t._v("options['thumbnailWidth']")]),t._v(" "),a("td",[t._v("缩略图宽")]),t._v(" "),a("td",[t._v("Number")]),t._v(" "),a("td",[t._v("—")]),t._v(" "),a("td",[t._v("—")])]),t._v(" "),a("tr",[a("td",[t._v("options['thumbnailQuality']")]),t._v(" "),a("td",[t._v("缩略图质量。（取值范围 0 -- 1）")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("—")]),t._v(" "),a("td",[t._v("0.8")])])])]),t._v(" "),a("div",{staticClass:"sealui-customblock is-info",staticStyle:{"padding-left":"3.5rem"}},[a("div",{staticClass:"sealui-customblock__icon"},[a("i",{staticClass:"sealui-icon-info"})]),t._v(" "),a("p",[t._v("设置了 "),a("code",[t._v("thumbnailWidth")]),t._v(" 缩略图将按照"),a("code",[t._v("thumbnailWidth")]),t._v("进行等比缩放，并返回一个base64的图片。")]),t._v(" "),a("p",[t._v("不设置 "),a("code",[t._v("thumbnailWidth")]),t._v("，将不会生成缩略图。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);